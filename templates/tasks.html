{% extends "layout.html" %}
{% block title %}Tasks{% endblock %}
{% block content %}
    <h1 class="title">Tasks</h1>

    {% if tasks or shared_tasks %}
    <form action="" method="post" name="task_list">
      {% if tasks %}
      <h4 class="subtitle">My Tasks</h4>
      <table class="table is-striped is-fullwidth">
        {% for task_key, task in tasks %}
        <tr>
          <td>
            <label class="checkbox">
              <input type="checkbox" name="task_keys" value="{{ task_key }}"/>
            </label>
            <a href="{{ url_for('task_page', task_key=task_key) }}">
              {{ task.name }}
              {% if task.description %} (Description: {{ task.description }}) {% endif %}
              {% if task.deadline %} (Deadline: {{ task.deadline }}) {% endif %}
            </a>
          </td>
        </tr>
        {% endfor %}
      </table>
      {% endif %}

      {% if shared_tasks %}
      <h4 class="subtitle">Shared Tasks</h4>

      <table class="table is-striped is-fullwidth">
        {% for task_key, task in shared_tasks %}
        <tr>
          <td>
            <label class="checkbox">
              <input type="checkbox" name="task_keys" value="{{ task_key }}"/>
            </label>
            <a href="{{ url_for('task_page', task_key=task_key) }}">
              {{ task.name }}
              {% if task.description %} (Description: {{ task.description }}) {% endif %}
              {% if task.deadline %} (Deadline: {{ task.deadline }}) {% endif %}
            </a>
          </td>
        </tr>
        {% endfor %}
      </table>
      {% endif %}

      <div class="field is-grouped">
        <div class="control">
          <button class="button is-danger is-small">Delete</button>
        </div>
      </div>
    </form>
    {% else %}
    <h4 class="subtitle">There are no tasks.</h4>
    {% endif %}
{% endblock %}